
= 逃逸分析

其他地方可访问到局部变量

通过逃逸分析，Hotspot编译器能够分析出一个新的对象的引用的使用范围从而决定是否要将这个对象分配到堆上。

优点：

. 分析出新对象的使用范围，在栈上进行内存分配，而不是堆，方便创建和销毁对象，减少 GC 垃圾回收的压力
. 分离对象或标量替换

    当JVM通过逃逸分析，确定要将对象分配到栈上时，即时编译可以将对象打散，将对象替换为一个个很小的局部变量，我们将这个打散的过程叫做标量替换。
    将对象替换为一个个局部变量后，就可以非常方便的在栈上进行分配了。

. 如果有 synchronized，且发现只会有一个线程访问，JVM 会消除同步锁，减少锁开销，Lock 无法消除
