
= JVM

== 内存结构

. 方法区
.. 空间可以是不连续的
.. 数据
... 类信息
... 常量（常量池）
... 静态变量（引用）
... 即时编译器编译后的代码
. 虚拟机栈
.. 线程独有
.. 数据
... 基本数据类型的值
... 存对象的引用
. 本地方法栈
.. 其他语言实现的方法
. 堆
.. 所有线程共用
.. 存储所有 new 的对象，对象被自动管理（GC）
.. 不需要是物理连续的，只要逻辑上是连续的即可
. 程序计数器

== 堆外内存（直接内存，元空间）

合理设置方法区大小

jdk8 方法区移到了直接内存，改名元空间

堆外内存泄露排查

. 查看是否进行 FullGC，未设置限制会导致一直增长，jdk8 对方法区的限制参数有调整
. 堆外内存跟踪，jcmd

=== 堆外内存跟踪 NativeMemoryTracking

jcmd

查询类加载情况： -verbose
