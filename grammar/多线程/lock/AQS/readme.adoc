
= AQS

AbstractQueuedSynchronizer，抽象的队列式同步器

使用了双向链表将等待线程链接起来，当发生并发竞争的时候，就会初始化该队列并让线程进入睡眠等待唤醒，同时每个节点会根据是否为共享锁标记状态为共享模式或独占模式。

image:AQS.png[AQS]

. 非公平锁先通过 CAS 修改 state 尝试获取锁，未取到锁则入队列，公平锁直接进入队列

image::AQS框架.png[AQS框架]
